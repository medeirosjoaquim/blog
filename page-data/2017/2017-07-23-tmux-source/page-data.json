{"componentChunkName":"component---src-templates-blog-post-js","path":"/2017/2017-07-23-tmux-source/","webpackCompilationHash":"a3110ad294f52dff3fe0","result":{"data":{"site":{"siteMetadata":{"title":"Joaquim Medeiros - Personal blog","author":"Joaquim Medeiros"}},"markdownRemark":{"id":"cbb0b8a6-8100-5d0e-be7b-571eb77ab62e","excerpt":"Compilando TMUX e dependências- sem root Como compilar TMUX — SEM ROOT.\nÀs vezes precisamos trabalhar naquele servidor via SSH com um usuário sem “poderes” de…","html":"<h3>Compilando TMUX e dependências- sem root</h3>\n<p>Como compilar TMUX — SEM ROOT.\nÀs vezes precisamos trabalhar naquele servidor via SSH com um usuário sem “poderes” de root (como em uma hospedagem compartilhada por exemplo). Para deixar o\ntrabalho mais dinâmico, além dos dotfiles de praxe, TMUX é uma ferramenta\nessêncial e aqui vai minha receita para compilar sem precisar ser root:</p>\n<h3>FERRAMENTAS NECESSÁRIAS:</h3>\n<p>Além do código do próprio tmux, precisaremos da biblioteca\n<strong>libevent</strong> (faça download da versão desejada em <a href=\"https://github.com/libevent/libevent/releases/\">https://github.com/libevent/libevent/releases/</a>  — dê preferência\na um release stable).\nO TMUX depende, também, da biblioteca <strong>ncurses</strong> (baixe em ftp://ftp.gnu.org/gnu/ncurses/).\nE, claro, o próprio TMUX (<a href=\"https://github.com/tmux/tmux\">https://github.com/tmux/tmux</a>).</p>\n<p>Faça uma tarball ou compacte esses arquivos de uma maneira que facilite a\ntransmissão por ssh (com scp) ou ftp.</p>\n<h4>Prepare uma pasta para receber as bibliotecas</h4>\n<p>Eu costumo criar na minha pasta $HOME uma pasta <strong>local</strong> para instalar todas as\naplicações compiladas da fonte sem precisar de root. É uma boa prática que\nusarei aqui.</p>\n<h3>Começando:</h3>\n<p>Agora, com os arquivos descompactados já em nosso servidor SSH, cada qual em seu\ndiretório, faremos:</p>\n<ul>\n<li>Compilação da <strong>libevent</strong></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">./configure --prefix=$HOME/local --disable-shared\nmake\nmake install</code></pre></div>\n<ul>\n<li>Compilação da <strong>ncurses</strong></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">./configure --prefix=$HOME/local\nmake\nmake install</code></pre></div>\n<ul>\n<li>Compilação do <strong>tmux</strong></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">./configure CFLAGS=&quot;-I$HOME/local/include -I$HOME/local/include/ncurses&quot; LDFLAGS=&quot;-L$HOME/local/lib \\\n-L$HOME/local/include/ncurses -L$HOME/local/include&quot; \\\nCPPFLAGS=&quot;-I$HOME/local/include -I$HOME/local/include/ncurses&quot; \\\nLDFLAGS=&quot;-static -L$HOME/local/include -L$HOME/local/include/ncurses -L$HOME/local/lib&quot;</code></pre></div>\n<p>** <em>Se tiver problemas para copiar/colar, aqui segue o comando sem cortes:</em>**</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">./configure CFLAGS=&quot;-I$HOME/local/include -I$HOME/local/include/ncurses&quot; LDFLAGS=&quot;-L$HOME/local/lib -L$HOME/local/include/ncurses -L$HOME/local/include&quot; CPPFLAGS=&quot;-I$HOME/local/include -I$HOME/local/include/ncurses&quot; LDFLAGS=&quot;-static -L$HOME/local/include -L$HOME/local/include/ncurses -L$HOME/local/lib&quot;</code></pre></div>\n<p><strong>Agora, basta um comando <em>make</em>   ; como não somos root não usaremos <em>make install</em></strong></p>\n<h3>Para finalizar:</h3>\n<h4>Vamos colocar o caminho para o executável do TMUX em nosso PATH, permitindo que ele possa ser chamado de qualquer diretório:</h4>\n<ul>\n<li>No seu .bashrc ou .bash_profile :</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"> PATH=$PATH:$HOME/bin:$HOME/tmuxsource/tmux-2.5\n export PATH</code></pre></div>\n<p>E é isso!</p>","frontmatter":{"title":"build tmux from source","date":"July 23, 2017","description":null}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2017/2017-07-23-tmux-source/","previous":{"fields":{"slug":"/2017/2017-07-20-install-local-perl/"},"frontmatter":{"title":"Install local PERL versions"}},"next":{"fields":{"slug":"/2017/2017-08-04-rename_loop/"},"frontmatter":{"title":"quick tip - Rename loop in bash"}}}}}